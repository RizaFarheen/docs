---
sidebar_position: 2
slug: "/reference-docs/ai-tasks/llm-text-complete"
description: "The LLM Text Complete task generates text based on the provided prompt and LLM parameters."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# LLM Text Complete

The LLM Text Complete task is used to generate a natural language response based on the provided context.

An LLM Text Complete task utilizes a large language model (LLM) to generate text predictions based on input context. The task configuration involves selecting an LLM provider, specifying the model, and defining the prompt and its variables. LLM parameters control the output, ensuring the generated text aligns with the desired randomness and length.

:::info Prerequisites

- [Integrate the required AI model](/category/integrations/ai-llm) with Orkes Conductor.
- [Create the required AI prompt](/content/developer-guides/creating-and-managing-gen-ai-prompt-templates) for the task.
:::

## Task parameters 

Configure these parameters for the LLM Text Complete task.

| Parameter | Description | Required/ Optional | 
| --------- | ----------- | ----------------- |
| inputParameters.**llmProvider** | The integration name of the LLM provider integrated with your Conductor cluster. <br/><br/>**Note:** If you haven’t configured your AI/LLM provider on your Orkes Conductor cluster, go to the **Integrations** tab and [configure your required provider](/category/integrations/ai-llm).| Required. |
| inputParameters.**model** | The available language models within the selected LLM provider. <br/><br/>For example, If your LLM provider is Azure Open AI and you’ve configured text-davinci-003 as the language model, you can select it here. | Required. |
| inputParameters.**promptName** | The AI prompt created in Orkes Conductor. <br/><br/>**Note**: If you haven’t created an AI prompt for your language model, refer to the documentation on [creating AI Prompts in Orkes Conductor](/developer-guides/creating-and-managing-gen-ai-prompt-templates). | Required. |
| inputParameters.**promptVariables** | For prompts that involve variables, provide the input to these variables within this field. It can be string, number, boolean, null, object/array. | Optional. |
| inputParameters.**temperature** | A parameter to control the randomness of the model’s output. Higher temperatures, such as 1.0, make the output more random and creative. A lower value makes the output more deterministic and focused.<br/><br/>**Tip:** If you're using a text blurb as input and want to categorize it based on its content type, opt for a lower temperature setting. Conversely, if you're providing text inputs and intend to generate content like emails or blogs, it's advisable to use a higher temperature setting. | Optional. |
| inputParameters.**stopWords** | List of words to be omitted during text generation. Supports string and object/array.<br/><br/>In LLM, stop words may be filtered out or given less importance during the text generation process to ensure that the generated text is coherent and contextually relevant. | Optional. |
| inputParameters.**topP** | Another parameter to control the randomness of the model’s output. This parameter defines a probability threshold and then chooses tokens whose cumulative probability exceeds this threshold.<br/><br/>**Example**: Imagine you want to complete the sentence: “She walked into the room and saw a __.” The top few words the LLM model would consider based on the highest probabilities would be:<ul><li>Cat - 35%</li><li>Dog - 25%</li><li>Book - 15%</li><li>Chair - 10%</li></ul>If you set the top-p parameter to 0.70, the LLM model will consider tokens until their cumulative probability reaches or exceeds 70%. Here's how it works:<ol><li>Add "Cat" (35%) to the cumulative probability.</li><li>Add "Dog" (25%) to the cumulative probability, totaling 60%.</li><li>Add "Book" (15%) to the cumulative probability, now at 75%.</li></ol>At this point, the cumulative probability is 75%, exceeding the set top-p value of 70%. Therefore, the LLM will randomly select one of the tokens from the list of "Cat," "Dog," and "Book" to complete the sentence because these tokens collectively account for approximately 75% of the likelihood. | Optional. |
| inputParameters.**maxTokens** | The maximum number of tokens to be generated by the LLM and returned as part of the result. A token is approximately four characters. | Optional. |

The following are generic configuration parameters that can be applied to the task and are not specific to the LLM Text Complete task.

<details>
<summary>Caching parameters</summary>

You can cache the task outputs using the following parameters. Refer to [Caching Task Outputs](/faqs/task-cache-output) for a full guide.

| Parameter | Description | Required/ Optional | 
| --------- | ----------- | ----------------- | 
| cacheConfig.**ttlInSecond** | The time to live in seconds, which is the duration for the output to be cached. | Required if using *cacheConfig*. |
| cacheConfig.**key** | The cache key is a unique identifier for the cached output and must be constructed exclusively from the task’s input parameters.<br/>It can be a string concatenation that contains the task’s input keys, such as `${uri}-${method}` or `re_${uri}_${method}`. | Required if using *cacheConfig*. |

</details>

<details>
<summary>Schema parameters</summary>

You can enforce input/output validation for the task using the following parameters. Refer to [Schema Validation](/developer-guides/schema-validation) for a full guide.

| Parameter | Description | Required/ Optional | 
| --------- | ----------- | ----------------- | 
| taskDefinition.**enforceSchema** | Whether to enforce schema validation for task inputs/outputs. Set to *true* to enable validation. | Optional. | 
| taskDefinition.**inputSchema** | The name and type of the input schema to be associated with the task. | Required if *enforceSchema* is set to true. | 
| taskDefinition.**outputSchema** | The name and type of the output schema to be associated with the task. | Required if *enforceSchema* is set to true.

</details>

<details>
<summary>Other generic parameters</summary>

Here are other parameters for configuring the task behavior.

| Parameter | Description | Required/ Optional | 
| --------- | ----------- | ----------------- | 
| optional | Whether the task is optional. The default is false. <br/> <br/> If set to true, the workflow continues to the next task even if this task is in progress or fails.| Optional. | 

</details>

## Task configuration

This is the task configuration for an LLM Text Complete task.

```json
{
  "name": "llm_text_complete_task",
  "taskReferenceName": "llm_text_complete_task_ref",
  "inputParameters": {
    "llmProvider": "azure_openai",
    "model": "text-davinci-003",
    "promptName": "translation",
    "promptVariables": {
      "input": "${workflow.input.input}",
      "language": "${workflow.input.language}"
    },
    "temperature": 1,
    "stopWords": ["a", "and", "the"],
    "topP": 0.8,
    "maxTokens": "150"
  },
  "type": "LLM_TEXT_COMPLETE"
}
```

## Task output

The LLM Text Complete task will return the following parameters.

| Parameter | Description | 
| --------- | ----------- | 
| result | The completed text by the LLM. |

## Adding an LLM Text Complete task in UI

**To add an LLM Text Complete task:**

1. In your workflow, select the (**+**) icon and add an **LLM Text Complete** task.
2. Choose the **LLM provider**, **Model**, and **Prompt template**.
3. (Optional) Click **+Add variable** to provide the variable path if your prompt template includes variables.
4. (Optional) Set the parameters **Temperature**, **Stop words**, **TopP**, and **Token Limit**.

<center><p><img src="/content/img/llm-text-complete-ui-method.png" alt="LLM Text Complete Task - UI" width="80%" height="auto"/></p></center>